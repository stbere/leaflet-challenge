<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Leaflet Step-1</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin="" />

  <!-- Our CSS -->
  <link rel="stylesheet" type="text/css" href="static/css/style.css">
</head>

<body>

  <!-- The div that holds our map -->
  <div id="map"></div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>
  <!-- D3 JavaScript -->
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <!-- API key -->
  <script type="text/javascript" src="static/js/config.js"></script>
  <!-- Our JavaScript -->
  <script type="text/javascript" src="static/js/logic.js"></script>
  
 <!DOCTYPE html>
<html>
<head>
	<title>Earthquake Map</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/leaflet/1.7.1/leaflet.css" />
	<script src="https://cdn.jsdelivr.net/leaflet/1.7.1/leaflet.js"></script>
</head>
<body>

	<div id="map" style="width: 100%; height: 600px;"></div>

	<script>
		var mymap = L.map('map').setView([0, 0], 2);
		L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
			maxZoom: 19,
			attribution: 'Tiles &copy; Esri'
		}).addTo(mymap);


		fetch('https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/significant_month.geojson')
			.then(function (response) {
				return response.json();
			})
			.then(function (data) {
				L.geoJSON(data, {
					pointToLayer: function (feature, latlng) {
						return L.circleMarker(latlng, {
							radius: feature.properties.mag * 3,
							fillColor: getColor(feature.properties.mag),
							color: "#000",
							weight: 1,
							opacity: 1,
							fillOpacity: 0.8
						}).bindPopup("Magnitude: " + feature.properties.mag + "<br>Location: " + feature.properties.place);
					}
				}).addTo(mymap);
			});

		function getColor(mag) {
			return mag >= 6 ? '#800026' :
				mag >= 5 ? '#BD0026' :
				mag >= 4 ? '#E31A1C' :
				mag >= 3 ? '#FC4E2A' :
				mag >= 2 ? '#FD8D3C' :
				mag >= 1 ? '#FEB24C' :
				'#FFEDA0';
		}
	</script>

</body>
</html>

 
</body>

</html>
